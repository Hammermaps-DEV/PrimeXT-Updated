# env_laser

При помощи этой энтити создаются лазерные лучи.
Лазерный луч будет исходить из объекта env_laser в направлении объекта-мишени (например, [info_target](./info_target)), имя которого необходимо указать в параметре "Target of Laser".

## Настройки

- **`Name`** - Имя энтити
- **`Parent`** - Имя энтити, к которой будет прикреплен
- **`Render FX`** - Тип визуального эффекта
- **`Pitch Yaw Roll`** - Угол поворота
- **`Activate When Crossed`** - Имя объекта который активируется при пересечении
- **`Enity activation`** - Classname или targetname объекта, который вызовет активацию target при пересечении лазера
- **`Target of Laser`** - Имя объекта, который будет мишенью для лазера, например, имя объекта info_target
- **`Projection Type`** - Тип проекции лазера
- **`Stopped by`** - Фильтр объектов, которые могут преградить путь лазеру
- **`Brightness`** - Яркость (прозрачность) лазера
- **`Beam color`** - Цвет лазера
- **`Width of beam`** - Ширина лазера (0-255). В игре ширина лазера высчитывается по формуле n*0.1, т.е. например, значение 100 будет соответствовать ширине лазера в 10 юнитов в игре
- **`Ammount of noise`** - Степень изогнутости лазера. Значения (0-255), 0 - полностью прямой (не изогнутый) лазер
- **`Sprite name`** - Имя спрайта, который будет являться текстурой для лазера
- **`End Sprite`** - Имя спрайта, который будет отображен на конце лазера
- **`Texture scroll rate`** - Скорость движения текстуры спрайта
- **`Starting frame`** - Кадр для начала анимации
- **`Damage / seconds`** - Повреждение при прохождении через луч, отрицательное значение прибавляет здоровье

## Спаунфлаги

- **`Start On`** - Если у лазера есть имя, то в начале раунда он будет выключен. Отметьте этот флаг, чтобы лазер был включен
- **`Start Sparks`** - В месте появления лазера будут сыпать искры
- **`End Sparks`** - Место где заканчивается лазера будут сыпать искры
- **`Decal End`** - Лазер будет оставлять темные пятна в местах, куда он попадет (*bug*)
- **`Fade Start`** - Начало лазера будет немного прозрачным
- **`Fade End`** - Конец  луча будет затененным
- **`Draw Solid`** - Коллизия у лазера

## Примечания

- В коде лазера есть ограничение, из-за которого пересечение луча и последующая активация **target** невозможны для режима проекции с номером **2**.
- В поле **End Sprite** можно указывать не только путь к спрайту, но и имя имеющегося на карте [env_sprite](./env_sprite) для более свободной настройки параметров спрайта.
- Если объект-мишень брашевый, например, **func_wall**, то для него необходимо создать ORIGIN-браш. В таком случае луч лазера будет исходить из объекта env_laser в направлении ORIGIN-браша.
- Если несколько объектов имеют то же имя, что и цель лазера, луч случайным образом выберет цель из этих объектов.
